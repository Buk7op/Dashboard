
<div class="collapse navbar-collapse w-auto ps" id="sidenav-collapse-main">
    <div class="pt-2">
        <span class="nav-title">Categories</span>
        <span class="add-icon-area">
            <button mat-icon-button class="add-icon" (click)="$event.stopPropagation(); openCreateDialog()">
                <mat-icon>add</mat-icon>
            </button>
        </span>
    </div>
    <hr class="horizontal light mt-0 mb-2">
    <div class="search-category-area px-3">
        <mat-form-field class="example-full-width">
            <input
            #inputSearchCategory
            (keydown.escape)="searchCategoryTitle = ''; search()"
            (keyup)="search()"
            [(ngModel)]="searchCategoryTitle"
            matInput
            maxlength="255"
            placeholder="Search category"/>

            <button
            (click)="searchCategoryTitle = ''; search()"
            *ngIf="inputSearchCategory.value.trim().length > 0" aria-label="Clear"
            class="search-category-button size25 gray"
            mat-button
            mat-icon-button
            matSuffix
            >
                <mat-icon>clear</mat-icon>
            </button>
        </mat-form-field>
    </div>
    <hr class="horizontal light mt-0 mb-2">
    <ul class="navbar-nav">
        <li class="nav-item category" (click)="showTaskByCategory(null!)"  >
            <a class="nav-link pointer" [class.bg-gradient-primary]="selectedCategory === null">
                <span class="nav-link-text ms-1">All</span>
            </a>
        </li>
        <hr class="horizontal light mt-0 mb-2">
        <li class="nav-item pointer" *ngFor="let category of categories; let index = index"
         (click)="showTaskByCategory(category)"
         (mouseleave)="showEditIcon(null!)"
         (mouseenter)="showEditIcon(index)">
            <a class="nav-link" [class.bg-gradient-primary]="category === selectedCategory">
                <span class="categoty-title">{{category.title}}</span>
                <span class="edit-category-icon-area">
                    <mat-icon *ngIf="indexMouseMove === index"
                    (click)="$event.stopPropagation(); openEditDialog(category)"
                    class="edit-category-icon">edit</mat-icon>
                </span>
            </a>
        </li>
    </ul>
</div>